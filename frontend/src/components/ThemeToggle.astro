---

---

<button class="theme-toggle" aria-label="Toggle dark mode" title="Toggle theme"
></button>

<script>
  const btn =
    document.currentScript?.parentElement?.querySelector(".theme-toggle") ||
    document.querySelector(".theme-toggle");

  function updateBtn() {
    const isDark =
      document.documentElement.getAttribute("data-theme") === "dark";
    btn?.setAttribute("data-mode", isDark ? "dark" : "light");
    btn?.setAttribute("aria-pressed", String(isDark));
  }

  updateBtn();
  window.addEventListener("theme:changed", updateBtn);

  btn?.addEventListener("click", () => {
    window.dispatchEvent(new Event("theme:toggle"));
  });

  window.addEventListener("storage", (e) => {
    if (e.key === "theme") updateBtn();
  });
</script>

<style>
  .theme-toggle {
    width: 40px;
    height: 40px;
    border-radius: 999px;
    border: 1px solid var(--color-border);
    background: var(--color-surface);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--color-text);
    transition: var(--transition);
  }

  .theme-toggle:hover {
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    transform: translateY(-1px);
  }

  .theme-toggle::before {
    content: attr(data-mode);
    position: absolute;
    width: 1px;
    height: 1px;
    overflow: hidden;
    clip: rect(0 0 0 0);
  }

  .theme-toggle::after {
    content: "â˜€ï¸Ž";
    font-size: 1.1rem;
    line-height: 1;
  }

  .theme-toggle[data-mode="dark"]::after {
    content: "ðŸŒ™";
  }
</style>
